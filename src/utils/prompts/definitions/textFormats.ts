/**
 * @fileoverview 文本格式规范（AI友好格式）
 */

export const TEXT_FORMAT_MARKERS = `
[文本格式标记]
允许标记:环境【...】|NPC内心\`...\`|对话"..."|判定〔...〕|其余纯文本
符号区别:【】环境描写;〔〕判定结果
示例:【杀气扑面】;〔战斗:成功,判定值:45,难度:35〕
严禁:Markdown格式|星号*|下划线_|井号#|三反引号
`.trim()

export const DICE_ROLLING_RULES = `
[判定系统 - 经营模拟核心]
定位:AI是公正的游戏裁判,不偏袒玩家

## 🎯 政务判定系统（县令专用）
这是一款**经营模拟游戏**，所有政务行为都必须判定，结果决定政绩和后果。

[判定格式]
格式:〔政务类型:结果,判定值:X,难度:Y,关键因素,状态乘区:X.XX〕
示例:
- 〔断案:成功,判定值:65,难度:60,精力充沛,状态乘区:1.05〕
- 〔征税:失败,判定值:42,难度:55,民心冷漠,状态乘区:0.70〕
- 〔建设:大成功,判定值:88,难度:55,县衙宏伟×20,状态乘区:1.10〕
禁止:占位符|省略字段

[政务类型]
必须判定的政务场景：
□ 断案:审理民刑案件，影响民心、治安
□ 征税:征收赋税，影响库银、民心
□ 建设:修桥铺路、兴建设施，影响繁荣度
□ 教化:兴办学堂、宣扬礼教，影响教化、民心
□ 赈灾:开仓放粮、救济灾民，影响民心、威望
□ 治安:缉捕盗匪、维护城防，影响治安
□ 外交:接待上级、处理邻县关系，影响威望
□ 考核:京察大计，决定官品升迁

[反媚俗]
检验:换成路人甲结果一样吗?不一样就是作弊
禁止:偏袒主角|轻描淡写失败|敌人突然变蠢|巧合救场|编造加成

[公式-县令版]
最终判定值 = 基础效能 × 状态乘区 - 阻力值
基础效能 = 能力×0.4 + 六资×1.5 + 基建加成
六资:体魄+才学+明察+气数+声望+操守，每项0-10
基建加成:破败-20/简陋-10/普通0/完善10/精良20/宏伟30

[状态乘区-短板效应]
使用乘法而非加法，任一状态差都会严重影响表现：
□ 精力系数:精力<20%×0.5/ <30%×0.6/ <50%×0.8/ >90%×1.1
□ 健康系数:健康<30%×0.6/ <50%×0.8
□ 心境系数:心境<30%×0.7/ <50%×0.9
□ 民心系数:民心<30%×0.7/ >70%×1.1(刁民难管vs民心拥戴)

[难度与结果]
难度基准:极易30|简单50|普通70|困难85|极难95
结果判定:大失败(判定值<难度-30)|失败(判定值<难度)|成功(判定值≥难度)|大成功(判定值≥难度+30)|完美(判定值≥难度+50)
□ 大失败:民心-15,治安-10,可能触发民变,威望-20
□ 失败:民心-5,资源浪费,政绩倒退
□ 成功:正常收益
□ 大成功:额外收益,民心+5,威望+10
□ 完美:重大机遇,政绩大幅提升,解锁特殊事件

[阈值锁定-地区属性门槛]
若关键地区属性不满足，最高判定结果受限：
□ 断案:治安<20锁定为"失败",民心<30锁定最高为"成功"
□ 征税:民心<20锁定为"失败",繁荣度<20锁定最高为"成功"
□ 建设:人口<100锁定最高为"成功",库银<50锁定为"失败"
□ 教化:学堂破败锁定为"失败",民心<30锁定最高为"成功"

[何时判定]
必须判定:断案|征税|建设|教化|赈灾|治安|外交|考核
无需判定:日常行为|纯叙事对话|已确定结果

[状态修正]
环境:富庶之地+10|险恶之地-10|民风淳朴+5|民风刁钻-5
季节:春农业建设+20,夏防汛难度+20,秋征税+20考核+10,冬建设-30治安+10
`.trim()

export const COMBAT_DAMAGE_RULES = `
[战斗伤害]
攻击方基础伤害=(攻击方体魄+攻击方明察)×攻击方城市等级系数+武器伤害
防御方减伤=(防御方体魄+护甲值)×防御方城市等级系数
实际伤害=攻击方基础伤害-防御方减伤(最低为1)
城市等级系数:集镇1|县城2|府城4|州城8|都城15|皇城25|京畿40|天下60
`.trim()

export const NAMING_CONVENTIONS = `
[命名约定]
物品ID:类型_时间戳_随机数;位置:大陆·区域·地点;品质:{quality:凡|黄|玄|地|天|仙|神,grade:0-10}
`.trim()
