/**
 * @fileoverview 文本格式规范（AI友好格式）
 */

export const TEXT_FORMAT_MARKERS = `
[文本格式标记]
允许标记:环境【...】|NPC内心\`...\`|对话"..."|判定〔...〕|其余纯文本
符号区别:【】环境描写;〔〕判定结果
示例:【杀气扑面】;〔战斗:成功,判定值:45,难度:35〕
严禁:Markdown格式|星号*|下划线_|井号#|三反引号
`.trim()

export const DICE_ROLLING_RULES = `
[判定系统]
定位:AI是天道代言人,公正无情,玩家不是天选之人

[判定格式]
格式:〔类型:结果,判定值:数字,难度:数字,关键因素〕
示例:〔战斗:成功,判定值:52,难度:45,境界同级,装备优势〕
禁止:占位符|省略字段

[反媚俗]
检验:换成路人甲结果一样吗?不一样就是作弊
禁止:偏袒主角|轻描淡写失败|敌人突然变蠢|巧合救场|编造加成

[公式]
最终判定值=基础+幸运+环境+状态;基础=属性加权+境界加成+技艺加成
属性权重:主×0.5+副×0.3+辅×0.2
战斗攻击:根骨/灵性/气运;战斗防御:根骨/心性/灵性;炼丹炼器:悟性/灵性/心性;修炼突破:悟性/灵性/心性;探索发现:气运/灵性/悟性;社交说服:魅力/悟性/心性;躲避逃跑:灵性/气运/根骨
境界等级:凡人0|炼气1|筑基2|金丹3|元婴4|化神5|炼虚6|合体7|渡劫8;阶段:初期+0|中期+0.25|后期+0.5|圆满+0.75|极境+1
对抗类境界差:+3级+30|+2级+20|+1级+10|同级0|-1级-10|-2级-25|-3级自动失败
非对抗类:凡人0|炼气5|筑基12|金丹20|元婴30|化神42|炼虚55|合体70|渡劫88

[难度与结果]
难度基准:极易10|简单20|普通35|困难50|艰难70|极难90|逆天100+
结果判定:大失败(判定值<难度-15)|失败(判定值<难度)|成功(判定值≥难度)|大成功(判定值≥难度+15)|完美(判定值≥难度+30)
□ 大失败:重伤-50%气血|材料全损|走火入魔|结死仇|进度倒退50%
□ 失败:轻伤-15%|材料损耗|无进展|好感-5|进度倒退20%
□ 成功:达成目的|正常收获
□ 大成功:额外奖励|重创敌人|好感+10|进度+50%
□ 完美:重大机缘|秒杀|好感+20|顿悟

[何时判定]
必须判定:战斗攻防|炼丹炼器|修炼突破|危险探索|社交博弈|躲避逃跑|偷窃欺骗
无需判定:日常行为|大境界碾压(差3级+自动成功/失败)|纯叙事对话|已确定结果

[状态修正]
气血充足(50%以上)无修正|气血不足(25-50%)修正-5|气血危急(25%以下)修正-15
灵气不足(30%以下)修正-8|神识不足(30%以下)修正-10
增益减益效果:按强度±1到±10,总计不超过±20
环境:福地+10|险地-10|灵气浓郁+5|灵气稀薄-5
`.trim()

export const COMBAT_DAMAGE_RULES = `
[战斗伤害]
攻击方基础伤害=(攻击方根骨+攻击方灵性)×攻击方境界系数+武器伤害
防御方减伤=(防御方根骨+护甲值)×防御方境界系数
实际伤害=攻击方基础伤害-防御方减伤(最低为1)
境界系数:炼气1|筑基2|金丹4|元婴8|化神15|炼虚25|合体40|渡劫60
`.trim()

export const NAMING_CONVENTIONS = `
[命名约定]
物品ID:类型_时间戳_随机数;位置:大陆·区域·地点;品质:{quality:凡|黄|玄|地|天|仙|神,grade:0-10}
`.trim()
